<element name="ga-dashboard">
<template><content></content></template>
<script>
Polymer.register(this, {

  execute: function() {
    var query = {};
    var controls = this.querySelectorAll('ga-input');
    for (var i = 0, control; control = controls[i]; ++i) {
      var val = control.getQuery();
      gadash.util.extend(val, query);
    }

    var config = {
      'query': query
    };
    var charts = this.querySelectorAll('ga-chart');
    for (var i = 0, chart; chart = charts[i]; ++i) {
      chart.gaQuery.execute(config);
    }
  },
  ready: function() {
    this.addEventListener('execute', function(e) {
      this.execute();
    });
  }

});
</script>

</element>

